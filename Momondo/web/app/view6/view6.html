<div ng-controller="View6Ctrl as ctrl">
    <div ng-repeat="flightInfo in dataFactory.getFlight()">
        <h1>CCK - Xmondo Booking-registration</h1>
        <h3>Please fill out the forms with your information.</h3>
        <form>
            <table style="margin: 5px; width: 65%;">
                <tr>
                    <td><h3>Basic information</h3></td>
                </tr>
                <tr>
                    <td>Flight: {{flightIdFormat(flightInfo.flightID)}}</td>
                    <td>From: {{cityNameConverter(flightInfo.origin)}} ({{flightInfo.origin}})</td>
                    <td style="text-align: right">Travel date: {{dateTimeFormat(flightInfo.date)[0]}}</td>

                <tr>
                    <td>Departure time: {{dateTimeFormat(flightInfo.date)[1]}}</td>
                    <td>To: {{cityNameConverter(flightInfo.destination)}} ({{flightInfo.destination}})</td>
                    <td style="text-align: right">Travel time: {{flightInfo.traveltime}} minutes</td>
                </tr>

                <tr><td><br></td></tr>

                <tr>
                    <td>Amount of passengers: </td>
                </tr>
                <tr>
                    <td>
                        <input min="1" 
                               max="8" 
                               type="number" 
                               ng-change="resGetNumberOfPassengers(flightInfo);
                                                   updateTotalPrice(flightInfo)" 
                               ng-model="flightInfo.numberOfSeats">
                    </td>

                <tr><td><br></td></tr>

                <tr>
                    <td>
                        <input id="ReserveeName"
                               class="form-control" 
                               type="text"
                               placeholder="Reservation name" 
                               required 
                               ng-model="resName">
                    </td>
                    <td></td>
                    <td>
                        <input id="ReservePhone" 
                               class="form-control" 
                               type="text"
                               placeholder="Phone number" 
                               required 
                               ng-model="resPhone">    
                    </td>
                </tr>
                <tr>
                    <td>
                        <input id="ReserveeEmail" 
                               class="form-control" 
                               type="email"
                               placeholder="Email" 
                               required 
                               ng-model="resEmail">        
                    </td>
                </tr>
                <tr>
                    <td><h3>Passenger information</h3></td>
                </tr>

            </table>

            <div ng-repeat="p in passengers">
                <table style="width: 65%; margin: 5px;">
                    <tr>
                        <td>
                            <input class="form-control" 
                                   placeholder="Enter Firstname" 
                                   required 
                                   ng-model="p.firstName">
                        </td>
                        <td>
                            <input  class="form-control" 
                                    placeholder="Enter Lastname" 
                                    required 
                                    ng-model="p.lastName">
                        </td>
                    </tr>
                </table>
            </div>
            <table style="width: 65%; margin: 5;">
                <tr>
                    <td>Total price: {{flightInfo.totalPrice | currency:"&#8364;"}}</td>
                    <td></td>
                    <td>
                        <button style="text-align: right"
                                type="submit" 
                                class="btn btn-success" 
                                ng-click="addReservation(flightInfo)"
                                >Make reservation</button>
                    </td>
                </tr>
            </table>
        </form>
    </div> 
</div>

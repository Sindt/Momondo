<div ng-controller="View6Ctrl as ctrl">
    <div ng-repeat="flightInfo in dataFactory.getFlight()">
        <h1>CCK - Xmondo Booking-registration</h1>
        <h3>Please fill out the forms with your information.</h3>
        <table style="margin: 5px; width: 65%;">
            <tr>
                <td><h3>Basic information</h3></td>
            </tr>
            <tr>
                <td>Flight: {{flightInfo.flightID}}</td>
                <td>From: {{flightInfo.origin}} to: {{flightInfo.destination}}</td>
                <td>Travel time: {{flightInfo.traveltime}} </td>
                
            <tr>
                <td>Departure time: {{flightInfo.flightID.split("T", 1).substring(0, 5)}}</td>
                <td>Travel date: {{flightInfo.flightID.split("x", 3).substring(0, 9)}}</td>
            </tr>
                
                
                
            </tr>
            <tr>
                <td> </td>
            </tr>
            <tr>
                <td>Amount of passengers: </td>
            </tr>
            <tr>
                <td>
                    <input min="1" max="8" type="number"ng-change="updateTotalPrice(flightInfo)" ng-model="flightInfo.numberOfSeats">
                </td>
            <tr>
                <td>
                    <input id="ReserveeName" class="form-control" 
                           placeholder="Reservation name" required ng-model="newregistration.name">
                </td>
                <td></td>
                <td>
                    <input id="ReservePhone" class="form-control" 
                           placeholder="Phone number" required ng-model="newregistration.phone">    
                </td>
            </tr>
            <tr>
                <td>
                    <input id="ReserveeEmail" class="form-control" 
                           placeholder="Email" required ng-model="newregistration.email">        
                </td>
            </tr>
            <tr>
                <td><h3>Passenger information</h3></td>
            </tr>
 
        </table>

        <div ng-repeat="i in resGetNumberOfPassengers(flightInfo) track by $index">
            <table style="width: 65%; margin: 5px;">
                <tr>
                    <td>
                        <input class="form-control" placeholder="Enter Firstname" required ng-model="firstName">
                    </td>
                    <td>
                        <input  class="form-control" placeholder="Enter Lastname" required ng-model="lastName">
                    </td>
                </tr>
            </table>
        </div>
        <table style="width: 65%; margin: 5;">
            <tr>
                <td>Total price: {{flightInfo.totalPrice}}</td>
                <td>
                    <button type="submit" class="btn btn-success" ng-click="addRegistration(i)">Make reservation</button>
                </td>
            </tr>
        </table>

    </div> 
</div>
